<h1>User: <%= @user.user_detail.username %></h1>

<% if @user == current_user %>
  <%= link_to "Edit profile", edit_user_profile_path(@user) %><br>
  <% if @user.address %>
    <%= link_to "View/edit shipping address", edit_address_path(@user) %>
  <% else %>
    <%= link_to "Add shipping address", new_address_path(@user) %>
  <% end %>
<% end %>

<p>
  <strong>Bio:</strong><br>
  <%= @user.user_detail.bio %>
</p>

<h2>Wishlist:</h2>
Add item:
<%= form_with(model: @wishlist_item, local: true) do |form| %>
  <div class="field">
    <%= form.label :title %>
    <%= form.text_field :title %>
  </div>

  <div class="submit">
    <%= form.submit %>
  </div>
<% end %>

<% if @user.wishlist_items.any? %>
  <ul>
    <% @user.wishlist_items.each do |item| %>
      <li>
        <%= item.title %>
        <% if @user == current_user %>
          <%= link_to "X", remove_wishlist_item_path(@user, item), method: :delete %>
        <% end %>
      </li>
    <% end %>
  </ul>
<% else %>
  No items in wishlist
<% end %>
